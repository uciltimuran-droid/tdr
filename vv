-- MiwaFISH Script for Roblox Fish It
-- Property: TRUE
-- Features: Fast Fishing, Auto Sell, Auto Perfect, Teleport to Islands, All Boats, and more

local MiwaFISH = {
    Name = "MiwaFISH",
    Version = "2.1",
    Author = "Miwa"
}

-- Services
local Players = game:GetService("Players")
local TweenService = game:GetService("TweenService")
local UserInputService = game:GetService("UserInputService")
local RunService = game:GetService("RunService")

-- Player
local Player = Players.LocalPlayer
local Mouse = Player:GetMouse()

-- GUI Creation
local ScreenGui = Instance.new("ScreenGui")
ScreenGui.Name = "MiwaFISH"
ScreenGui.ZIndexBehavior = Enum.ZIndexBehavior.Sibling
ScreenGui.Parent = Player.PlayerGui

-- Main Frame
local MainFrame = Instance.new("Frame")
MainFrame.Name = "MainFrame"
MainFrame.Size = UDim2.new(0, 400, 0, 500)
MainFrame.Position = UDim2.new(0.5, -200, 0.5, -250)
MainFrame.BackgroundColor3 = Color3.fromRGB(15, 15, 25)
MainFrame.BorderSizePixel = 0
MainFrame.ClipsDescendants = true
MainFrame.Parent = ScreenGui

-- Corner Radius
local UICorner = Instance.new("UICorner")
UICorner.CornerRadius = UDim.new(0, 12)
UICorner.Parent = MainFrame

-- Top Bar
local TopBar = Instance.new("Frame")
TopBar.Name = "TopBar"
TopBar.Size = UDim2.new(1, 0, 0, 40)
TopBar.BackgroundColor3 = Color3.fromRGB(25, 25, 35)
TopBar.BorderSizePixel = 0
TopBar.Parent = MainFrame

local TopBarCorner = Instance.new("UICorner")
TopBarCorner.CornerRadius = UDim.new(0, 12)
TopBarCorner.Parent = TopBar

-- Title
local Title = Instance.new("TextLabel")
Title.Name = "Title"
Title.Size = UDim2.new(0, 200, 1, 0)
Title.Position = UDim2.new(0, 10, 0, 0)
Title.BackgroundTransparency = 1
Title.Text = "MiwaFISH v2.1"
Title.TextColor3 = Color3.fromRGB(255, 255, 255)
Title.TextSize = 18
Title.Font = Enum.Font.GothamBold
Title.TextXAlignment = Enum.TextXAlignment.Left
Title.Parent = TopBar

-- Minimize Button
local MinimizeButton = Instance.new("TextButton")
MinimizeButton.Name = "MinimizeButton"
MinimizeButton.Size = UDim2.new(0, 30, 0, 30)
MinimizeButton.Position = UDim2.new(1, -40, 0.5, -15)
MinimizeButton.BackgroundColor3 = Color3.fromRGB(45, 45, 60)
MinimizeButton.BorderSizePixel = 0
MinimizeButton.Text = "_"
MinimizeButton.TextColor3 = Color3.fromRGB(255, 255, 255)
MinimizeButton.TextSize = 16
MinimizeButton.Font = Enum.Font.GothamBold
MinimizeButton.Parent = TopBar

local MinimizeCorner = Instance.new("UICorner")
MinimizeCorner.CornerRadius = UDim.new(0, 6)
MinimizeCorner.Parent = MinimizeButton

-- Close Button (for minimized state)
local CloseButton = Instance.new("TextButton")
CloseButton.Name = "CloseButton"
CloseButton.Size = UDim2.new(0, 30, 0, 30)
CloseButton.Position = UDim2.new(1, -80, 0.5, -15)
CloseButton.BackgroundColor3 = Color3.fromRGB(200, 60, 60)
CloseButton.BorderSizePixel = 0
CloseButton.Text = "X"
CloseButton.TextColor3 = Color3.fromRGB(255, 255, 255)
CloseButton.TextSize = 14
CloseButton.Font = Enum.Font.GothamBold
CloseButton.Parent = TopBar

local CloseCorner = Instance.new("UICorner")
CloseCorner.CornerRadius = UDim.new(0, 6)
CloseCorner.Parent = CloseButton

-- Content Frame
local ContentFrame = Instance.new("Frame")
ContentFrame.Name = "ContentFrame"
ContentFrame.Size = UDim2.new(1, -20, 1, -60)
ContentFrame.Position = UDim2.new(0, 10, 0, 50)
ContentFrame.BackgroundTransparency = 1
ContentFrame.Parent = MainFrame

-- Scrolling Frame
local ScrollingFrame = Instance.new("ScrollingFrame")
ScrollingFrame.Name = "ScrollingFrame"
ScrollingFrame.Size = UDim2.new(1, 0, 1, 0)
ScrollingFrame.BackgroundTransparency = 1
ScrollingFrame.BorderSizePixel = 0
ScrollingFrame.ScrollBarThickness = 4
ScrollingFrame.ScrollBarImageColor3 = Color3.fromRGB(80, 80, 120)
ScrollingFrame.Parent = ContentFrame

local UIListLayout = Instance.new("UIListLayout")
UIListLayout.Padding = UDim.new(0, 10)
UIListLayout.Parent = ScrollingFrame

-- Minimized Version
local MinimizedFrame = Instance.new("Frame")
MinimizedFrame.Name = "MinimizedFrame"
MinimizedFrame.Size = UDim2.new(0, 150, 0, 40)
MinimizedFrame.Position = UDim2.new(0, 10, 0, 10)
MinimizedFrame.BackgroundColor3 = Color3.fromRGB(25, 25, 35)
MinimizedFrame.BorderSizePixel = 0
MinimizedFrame.Visible = false
MinimizedFrame.Parent = ScreenGui

local MinimizedCorner = Instance.new("UICorner")
MinimizedCorner.CornerRadius = UDim.new(0, 8)
MinimizedCorner.Parent = MinimizedFrame

local MinimizedTitle = Instance.new("TextLabel")
MinimizedTitle.Name = "MinimizedTitle"
MinimizedTitle.Size = UDim2.new(1, -50, 1, 0)
MinimizedTitle.Position = UDim2.new(0, 10, 0, 0)
MinimizedTitle.BackgroundTransparency = 1
MinimizedTitle.Text = "MiwaFISH"
MinimizedTitle.TextColor3 = Color3.fromRGB(255, 255, 255)
MinimizedTitle.TextSize = 14
MinimizedTitle.Font = Enum.Font.GothamBold
MinimizedTitle.TextXAlignment = Enum.TextXAlignment.Left
MinimizedTitle.Parent = MinimizedFrame

local MaximizeButton = Instance.new("TextButton")
MaximizeButton.Name = "MaximizeButton"
MaximizeButton.Size = UDim2.new(0, 30, 0, 30)
MaximizeButton.Position = UDim2.new(1, -40, 0.5, -15)
MaximizeButton.BackgroundColor3 = Color3.fromRGB(45, 45, 60)
MaximizeButton.BorderSizePixel = 0
MaximizeButton.Text = "+"
MaximizeButton.TextColor3 = Color3.fromRGB(255, 255, 255)
MaximizeButton.TextSize = 16
MaximizeButton.Font = Enum.Font.GothamBold
MaximizeButton.Parent = MinimizedFrame

local MaximizeCorner = Instance.new("UICorner")
MaximizeCorner.CornerRadius = UDim.new(0, 6)
MaximizeCorner.Parent = MaximizeButton

-- Function to create feature buttons
local function CreateFeatureButton(text, description, callback)
    local ButtonFrame = Instance.new("Frame")
    ButtonFrame.Name = text .. "Frame"
    ButtonFrame.Size = UDim2.new(1, 0, 0, 60)
    ButtonFrame.BackgroundColor3 = Color3.fromRGB(30, 30, 40)
    ButtonFrame.BorderSizePixel = 0
    ButtonFrame.Parent = ScrollingFrame
    
    local ButtonCorner = Instance.new("UICorner")
    ButtonCorner.CornerRadius = UDim.new(0, 8)
    ButtonCorner.Parent = ButtonFrame
    
    local ToggleButton = Instance.new("TextButton")
    ToggleButton.Name = "ToggleButton"
    ToggleButton.Size = UDim2.new(0, 120, 0, 35)
    ToggleButton.Position = UDim2.new(1, -130, 0.5, -17.5)
    ToggleButton.BackgroundColor3 = Color3.fromRGB(60, 60, 80)
    ToggleButton.BorderSizePixel = 0
    ToggleButton.Text = "Enable"
    ToggleButton.TextColor3 = Color3.fromRGB(255, 255, 255)
    ToggleButton.TextSize = 14
    ToggleButton.Font = Enum.Font.GothamBold
    ToggleButton.Parent = ButtonFrame
    
    local ToggleCorner = Instance.new("UICorner")
    ToggleCorner.CornerRadius = UDim.new(0, 6)
    ToggleCorner.Parent = ToggleButton
    
    local FeatureTitle = Instance.new("TextLabel")
    FeatureTitle.Name = "FeatureTitle"
    FeatureTitle.Size = UDim2.new(0.6, 0, 0, 25)
    FeatureTitle.Position = UDim2.new(0, 15, 0, 8)
    FeatureTitle.BackgroundTransparency = 1
    FeatureTitle.Text = text
    FeatureTitle.TextColor3 = Color3.fromRGB(255, 255, 255)
    FeatureTitle.TextSize = 16
    FeatureTitle.Font = Enum.Font.GothamBold
    FeatureTitle.TextXAlignment = Enum.TextXAlignment.Left
    FeatureTitle.Parent = ButtonFrame
    
    local FeatureDesc = Instance.new("TextLabel")
    FeatureDesc.Name = "FeatureDesc"
    FeatureDesc.Size = UDim2.new(0.6, 0, 0, 20)
    FeatureDesc.Position = UDim2.new(0, 15, 0, 32)
    FeatureDesc.BackgroundTransparency = 1
    FeatureDesc.Text = description
    FeatureDesc.TextColor3 = Color3.fromRGB(180, 180, 200)
    FeatureDesc.TextSize = 12
    FeatureDesc.Font = Enum.Font.Gotham
    FeatureDesc.TextXAlignment = Enum.TextXAlignment.Left
    FeatureDesc.Parent = ButtonFrame
    
    local isEnabled = false
    
    ToggleButton.MouseButton1Click:Connect(function()
        isEnabled = not isEnabled
        if isEnabled then
            ToggleButton.Text = "Disable"
            ToggleButton.BackgroundColor3 = Color3.fromRGB(80, 120, 200)
        else
            ToggleButton.Text = "Enable"
            ToggleButton.BackgroundColor3 = Color3.fromRGB(60, 60, 80)
        end
        callback(isEnabled)
    end)
    
    return ButtonFrame
end

-- Feature Variables
local FastFishingEnabled = false
local AutoSellEnabled = false
local AutoPerfectEnabled = false
local AutoRebirthEnabled = false
local NoClipEnabled = false

-- Features Implementation
CreateFeatureButton("Fast Fishing", "Instant catch fish without waiting", function(enabled)
    FastFishingEnabled = enabled
    if enabled then
        spawn(function()
            while FastFishingEnabled and wait(0.1) do
                pcall(function()
                    -- Fast fishing implementation
                    local fishingEvent = game:GetService("ReplicatedStorage").Events.FishingEvent
                    fishingEvent:FireServer("Cast")
                    wait(0.1)
                    fishingEvent:FireServer("Reel")
                end)
            end
        end)
    end
end)

CreateFeatureButton("Auto Sell", "Automatically sell all fish", function(enabled)
    AutoSellEnabled = enabled
    if enabled then
        spawn(function()
            while AutoSellEnabled and wait(1) do
                pcall(function()
                    local sellEvent = game:GetService("ReplicatedStorage").Events.SellEvent
                    sellEvent:FireServer("SellAll")
                end)
            end
        end)
    end
end)

CreateFeatureButton("Auto Perfect", "Always get perfect catch", function(enabled)
    AutoPerfectEnabled = enabled
    if enabled then
        -- Hook into fishing mechanics for perfect catch
        pcall(function()
            local metatable = getrawmetatable(game)
            local oldNamecall = metatable.__namecall
            
            setreadonly(metatable, false)
            
            metatable.__namecall = newcclosure(function(self, ...)
                local method = getnamecallmethod()
                local args = {...}
                
                if AutoPerfectEnabled and tostring(self) == "FishingEvent" and method == "FireServer" then
                    if args[1] == "Catch" then
                        -- Modify catch to be perfect
                        args[2] = true -- Perfect catch
                    end
                end
                
                return oldNamecall(self, unpack(args))
            end)
            
            setreadonly(metatable, true)
        end)
    end
end)

CreateFeatureButton("Auto Rebirth", "Automatically rebirth when possible", function(enabled)
    AutoRebirthEnabled = enabled
    if enabled then
        spawn(function()
            while AutoRebirthEnabled and wait(5) do
                pcall(function()
                    local rebirthEvent = game:GetService("ReplicatedStorage").Events.RebirthEvent
                    rebirthEvent:FireServer()
                end)
            end
        end)
    end
end)

CreateFeatureButton("No Clip", "Walk through objects", function(enabled)
    NoClipEnabled = enabled
    if enabled then
        spawn(function()
            local character = Player.Character or Player.CharacterAdded:Wait()
            local humanoid = character:WaitForChild("Humanoid")
            
            RunService.Stepped:Connect(function()
                if NoClipEnabled and character then
                    for _, part in pairs(character:GetDescendants()) do
                        if part:IsA("BasePart") then
                            part.CanCollide = false
                        end
                    end
                end
            end)
        end)
    end
end)

-- Teleport Buttons
local TeleportFrame = Instance.new("Frame")
TeleportFrame.Name = "TeleportFrame"
TeleportFrame.Size = UDim2.new(1, 0, 0, 100)
TeleportFrame.BackgroundColor3 = Color3.fromRGB(30, 30, 40)
TeleportFrame.BorderSizePixel = 0
TeleportFrame.Parent = ScrollingFrame

local TeleportCorner = Instance.new("UICorner")
TeleportCorner.CornerRadius = UDim.new(0, 8)
TeleportCorner.Parent = TeleportFrame

local TeleportTitle = Instance.new("TextLabel")
TeleportTitle.Name = "TeleportTitle"
TeleportTitle.Size = UDim2.new(1, -20, 0, 30)
TeleportTitle.Position = UDim2.new(0, 10, 0, 5)
TeleportTitle.BackgroundTransparency = 1
TeleportTitle.Text = "Island Teleports"
TeleportTitle.TextColor3 = Color3.fromRGB(255, 255, 255)
TeleportTitle.TextSize = 16
TeleportTitle.Font = Enum.Font.GothamBold
TeleportTitle.Parent = TeleportFrame

local function CreateTeleportButton(name, position, parent)
    local Button = Instance.new("TextButton")
    Button.Name = name .. "Button"
    Button.Size = UDim2.new(0.3, 0, 0, 25)
    Button.Position = position
    Button.BackgroundColor3 = Color3.fromRGB(80, 120, 200)
    Button.BorderSizePixel = 0
    Button.Text = name
    Button.TextColor3 = Color3.fromRGB(255, 255, 255)
    Button.TextSize = 12
    Button.Font = Enum.Font.GothamBold
    Button.Parent = parent
    
    local ButtonCorner = Instance.new("UICorner")
    ButtonCorner.CornerRadius = UDim.new(0, 6)
    ButtonCorner.Parent = Button
    
    Button.MouseButton1Click:Connect(function()
        pcall(function()
            local character = Player.Character
            if character then
                local humanoidRootPart = character:FindFirstChild("HumanoidRootPart")
                if humanoidRootPart then
                    -- Teleport to island position (you'll need to set actual coordinates)
                    humanoidRootPart.CFrame = CFrame.new(0, 50, 0) -- Replace with actual coordinates
                end
            end
        end)
    end)
end

-- Create teleport buttons for different islands
CreateTeleportButton("Starter", UDim2.new(0.05, 0, 0.5, 0), TeleportFrame)
CreateTeleportButton("Ice", UDim2.new(0.37, 0, 0.5, 0), TeleportFrame)
CreateTeleportButton("Volcano", UDim2.new(0.69, 0, 0.5, 0), TeleportFrame)

-- Boat Selection
local BoatFrame = Instance.new("Frame")
BoatFrame.Name = "BoatFrame"
BoatFrame.Size = UDim2.new(1, 0, 0, 80)
BoatFrame.BackgroundColor3 = Color3.fromRGB(30, 30, 40)
BoatFrame.BorderSizePixel = 0
BoatFrame.Parent = ScrollingFrame

local BoatCorner = Instance.new("UICorner")
BoatCorner.CornerRadius = UDim.new(0, 8)
BoatCorner.Parent = BoatFrame

local BoatTitle = Instance.new("TextLabel")
BoatTitle.Name = "BoatTitle"
BoatTitle.Size = UDim2.new(1, -20, 0, 30)
BoatTitle.Position = UDim2.new(0, 10, 0, 5)
BoatTitle.BackgroundTransparency = 1
BoatTitle.Text = "Boat Selection"
BoatTitle.TextColor3 = Color3.fromRGB(255, 255, 255)
BoatTitle.TextSize = 16
BoatTitle.Font = Enum.Font.GothamBold
BoatTitle.Parent = BoatFrame

local function CreateBoatButton(name, parent, position)
    local Button = Instance.new("TextButton")
    Button.Name = name .. "BoatButton"
    Button.Size = UDim2.new(0.45, 0, 0, 25)
    Button.Position = position
    Button.BackgroundColor3 = Color3.fromRGB(80, 160, 120)
    Button.BorderSizePixel = 0
    Button.Text = name
    Button.TextColor3 = Color3.fromRGB(255, 255, 255)
    Button.TextSize = 12
    Button.Font = Enum.Font.GothamBold
    Button.Parent = parent
    
    local ButtonCorner = Instance.new("UICorner")
    ButtonCorner.CornerRadius = UDim.new(0, 6)
    ButtonCorner.Parent = Button
    
    Button.MouseButton1Click:Connect(function()
        pcall(function()
            local boatEvent = game:GetService("ReplicatedStorage").Events.BoatEvent
            boatEvent:FireServer("Purchase", name)
        end)
    end)
end

CreateBoatButton("Basic Boat", BoatFrame, UDim2.new(0.025, 0, 0.6, 0))
CreateBoatButton("Speed Boat", BoatFrame, UDim2.new(0.525, 0, 0.6, 0))

-- Stats Display
local StatsFrame = Instance.new("Frame")
StatsFrame.Name = "StatsFrame"
StatsFrame.Size = UDim2.new(1, 0, 0, 60)
StatsFrame.BackgroundColor3 = Color3.fromRGB(30, 30, 40)
StatsFrame.BorderSizePixel = 0
StatsFrame.Parent = ScrollingFrame

local StatsCorner = Instance.new("UICorner")
StatsCorner.CornerRadius = UDim.new(0, 8)
StatsCorner.Parent = StatsFrame

local StatsTitle = Instance.new("TextLabel")
StatsTitle.Name = "StatsTitle"
StatsTitle.Size = UDim2.new(1, -20, 0, 25)
StatsTitle.Position = UDim2.new(0, 10, 0, 5)
StatsTitle.BackgroundTransparency = 1
StatsTitle.Text = "Player Stats"
StatsTitle.TextColor3 = Color3.fromRGB(255, 255, 255)
StatsTitle.TextSize = 14
StatsTitle.Font = Enum.Font.GothamBold
StatsTitle.Parent = StatsFrame

local CoinsLabel = Instance.new("TextLabel")
CoinsLabel.Name = "CoinsLabel"
CoinsLabel.Size = UDim2.new(1, -20, 0, 20)
CoinsLabel.Position = UDim2.new(0, 10, 0, 30)
CoinsLabel.BackgroundTransparency = 1
CoinsLabel.Text = "Coins: Loading..."
CoinsLabel.TextColor3 = Color3.fromRGB(180, 180, 200)
CoinsLabel.TextSize = 12
CoinsLabel.Font = Enum.Font.Gotham
CoinsLabel.TextXAlignment = Enum.TextXAlignment.Left
CoinsLabel.Parent = StatsFrame

-- Update stats
spawn(function()
    while wait(2) do
        pcall(function()
            local leaderstats = Player:FindFirstChild("leaderstats")
            if leaderstats then
                local coins = leaderstats:FindFirstChild("Coins") or leaderstats:FindFirstChild("Money")
                if coins then
                    CoinsLabel.Text = "Coins: " .. tostring(coins.Value)
                end
            end
        end)
    end
end)

-- UI Controls
local isMinimized = false

MinimizeButton.MouseButton1Click:Connect(function()
    isMinimized = true
    MainFrame.Visible = false
    MinimizedFrame.Visible = true
end)

MaximizeButton.MouseButton1Click:Connect(function()
    isMinimized = false
    MainFrame.Visible = true
    MinimizedFrame.Visible = false
end)

CloseButton.MouseButton1Click:Connect(function()
    ScreenGui:Destroy()
end)

-- Make GUI draggable
local dragging
local dragInput
local dragStart
local startPos

local function update(input)
    local delta = input.Position - dragStart
    if not isMinimized then
        MainFrame.Position = UDim2.new(startPos.X.Scale, startPos.X.Offset + delta.X, startPos.Y.Scale, startPos.Y.Offset + delta.Y)
    else
        MinimizedFrame.Position = UDim2.new(startPos.X.Scale, startPos.X.Offset + delta.X, startPos.Y.Scale, startPos.Y.Offset + delta.Y)
    end
end

TopBar.InputBegan:Connect(function(input)
    if input.UserInputType == Enum.UserInputType.MouseButton1 then
        dragging = true
        dragStart = input.Position
        startPos = MainFrame.Position
        
        input.Changed:Connect(function()
            if input.UserInputState == Enum.UserInputState.End then
                dragging = false
            end
        end)
    end
end)

MinimizedFrame.InputBegan:Connect(function(input)
    if input.UserInputType == Enum.UserInputType.MouseButton1 then
        dragging = true
        dragStart = input.Position
        startPos = MinimizedFrame.Position
        
        input.Changed:Connect(function()
            if input.UserInputState == Enum.UserInputState.End then
                dragging = false
            end
        end)
    end
end)

UserInputService.InputChanged:Connect(function(input)
    if input.UserInputType == Enum.UserInputType.MouseMovement then
        if dragging then
            update(input)
        end
    end
end)

-- Auto-resize scrolling frame
UIListLayout:GetPropertyChangedSignal("AbsoluteContentSize"):Connect(function()
    ScrollingFrame.CanvasSize = UDim2.new(0, 0, 0, UIListLayout.AbsoluteContentSize.Y + 10)
end)

-- Initial setup
ScrollingFrame.CanvasSize = UDim2.new(0, 0, 0, UIListLayout.AbsoluteContentSize.Y + 10)

-- Notification function
local function Notify(message)
    pcall(function()
        local Notification = Instance.new("Frame")
        Notification.Size = UDim2.new(0, 300, 0, 60)
        Notification.Position = UDim2.new(1, 10, 1, -70)
        Notification.BackgroundColor3 = Color3.fromRGB(25, 25, 35)
        Notification.BorderSizePixel = 0
        Notification.Parent = ScreenGui
        
        local NotifCorner = Instance.new("UICorner")
        NotifCorner.CornerRadius = UDim.new(0, 8)
        NotifCorner.Parent = Notification
        
        local NotifTitle = Instance.ne
